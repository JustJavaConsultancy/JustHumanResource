<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:flowable="http://flowable.org/bpmn"
             targetNamespace="http://javajava.tech/payroll">

    <process id="payrollApprovalProcess"
             name="Payroll Approval Process"
             isExecutable="true">

        <startEvent id="startApproval"/>

        <userTask id="approvePayroll"
                  name="Approve Payroll"
                  flowable:assignee="${approver}"/>

        <serviceTask id="finalizeAfterApproval"
                     name="Finalize Payroll"
                     flowable:class="javajava.tech.workflow.delegate.FinalizePayrollDelegate"/>

        <endEvent id="endApproval"/>

        <sequenceFlow sourceRef="startApproval" targetRef="approvePayroll"/>
        <sequenceFlow sourceRef="approvePayroll" targetRef="finalizeAfterApproval"/>
        <sequenceFlow sourceRef="finalizeAfterApproval" targetRef="endApproval"/>

    </process>
</definitions>
