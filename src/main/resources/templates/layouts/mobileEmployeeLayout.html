<!DOCTYPE html>
<html class="light" lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    <script id="tailwind-config">
        tailwind.config = {
          darkMode: "class",
          theme: {
            extend: {
              colors: {
                "primary": "#2463eb",
                "background-light": "#f6f6f8",
                "background-dark": "#111621",
              },
              fontFamily: {
                "display": ["Inter"]
              },
              borderRadius: {"DEFAULT": "0.5rem", "lg": "1rem", "xl": "1.5rem", "full": "9999px"},
            },
          },
        }
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-100">

<!-- Full-height flex column: header fixed top, main scrolls, nav fixed bottom -->
<div class="flex h-screen flex-col bg-background-light dark:bg-background-dark overflow-hidden">

    <!-- Header – stays at top (flex-shrink-0) -->
    <header class="flex-shrink-0 flex items-center justify-between px-6 pt-6 pb-2">
        <div class="flex items-center gap-3">

            <!-- Initials Avatar -->
            <div class="size-12 rounded-full border-2 border-primary/20 p-0.5">
                <div class="size-full rounded-full bg-primary text-white flex items-center justify-center font-semibold text-lg"
                     th:text="${#strings.substring(userName,0,1).toUpperCase() +
                      (#strings.contains(userName,' ') ?
                      #strings.substring(userName, userName.indexOf(' ') + 1, userName.indexOf(' ') + 2).toUpperCase()
                      : '')}">
                    JC
                </div>
            </div>

            <div>
                <p class="text-xs text-slate-500 dark:text-slate-400 font-medium">
                    Welcome back,
                </p>
                <h1 th:text="${userName}" class="text-xl font-bold tracking-tight">
                    Jane Cooper
                </h1>
            </div>

        </div>
        <button class="relative flex size-10 items-center justify-center rounded-full bg-white dark:bg-slate-800 shadow-sm">
            <span class="material-symbols-outlined text-slate-600 dark:text-slate-300">notifications</span>
            <span class="absolute top-2.5 right-2.5 size-2 rounded-full bg-red-500 border-2 border-white dark:border-slate-800"></span>
        </button>
    </header>

    <!-- Main content – scrollable (flex-1 + overflow-auto) -->
    <main class="flex-1 overflow-y-auto no-scrollbar">
        <section layout:fragment="content"></section>
    </main>

    <!-- Bottom navigation – fixed at bottom -->
    <nav class="flex-shrink-0 w-full bg-white/80 dark:bg-slate-900/80 backdrop-blur-lg border-t border-slate-200 dark:border-slate-800 pb-8 pt-3 px-6">
        <div class="flex items-center justify-between">

            <!-- Home -->
            <a th:href="@{/mobile/employee/dashboard}"
               class="flex flex-col items-center gap-1 transition-colors"
               th:classappend="${currentPath == '/mobile/employee/dashboard'}
               ? ' text-primary'
               : ' text-slate-400 hover:text-primary'">

                <span class="material-symbols-outlined">home</span>
                <span class="text-[10px]"
                      th:classappend="${currentPath == '/mobile/employee/dashboard'}
                      ? ' font-bold'
                      : ' font-medium'">
                Home
            </span>
            </a>

            <!-- KPI -->
            <a th:href="@{/mobile/employee/performance}"
               class="flex flex-col items-center gap-1 transition-colors"
               th:classappend="${currentPath == '/mobile/employee/performance'}
               ? ' text-primary'
               : ' text-slate-400 hover:text-primary'">

                <span class="material-symbols-outlined">assessment</span>
                <span class="text-[10px]"
                      th:classappend="${currentPath == '/mobile/employee/performance'}
                      ? ' font-bold'
                      : ' font-medium'">
                KPI
            </span>
            </a>

            <!-- Payroll -->
            <a th:href="@{/mobile/employee/payroll}"
               class="flex flex-col items-center gap-1 transition-colors"
               th:classappend="${currentPath == '/mobile/employee/payroll'}
               ? ' text-primary'
               : ' text-slate-400 hover:text-primary'">

                <span class="material-symbols-outlined">account_balance_wallet</span>
                <span class="text-[10px]"
                      th:classappend="${currentPath == '/mobile/employee/payroll'}
                      ? ' font-bold'
                      : ' font-medium'">
                Payroll
            </span>
            </a>

            <!-- Profile -->
            <a th:href="@{/mobile/employee/profile}"
               class="flex flex-col items-center gap-1 transition-colors"
               th:classappend="${currentPath == '/mobile/employee/profile'}
               ? ' text-primary'
               : ' text-slate-400 hover:text-primary'">

                <span class="material-symbols-outlined">person</span>
                <span class="text-[10px]"
                      th:classappend="${currentPath == '/mobile/employee/profile'}
                      ? ' font-bold'
                      : ' font-medium'">
                Profile
            </span>
            </a>

        </div>
    </nav>
</div>

</body>
</html>