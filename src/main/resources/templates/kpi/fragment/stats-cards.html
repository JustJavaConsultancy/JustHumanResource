<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Stats Cards Fragment</title>
</head>
<body>
<div id="stats-cards" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-6 md:mb-8" th:fragment="stats-cards">
    <!-- Total KPI Definitions -->
    <div class="stat-card bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 md:p-6">
        <div class="flex items-center justify-between mb-4">
            <div class="p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg">
                <span class="material-icons-round text-blue-600 dark:text-blue-400">checklist</span>
            </div>
            <span class="text-sm font-medium text-green-600 flex items-center">
                <span class="material-icons-round text-sm mr-1">trending_up</span>
                +<span >12</span>%
            </span>
        </div>
        <h3 th:text="${definitionSize}" class="text-2xl font-bold mb-1">24</h3>
        <p class="text-gray-600 dark:text-gray-400 text-sm">KPI Definitions</p>
        <div class="mt-3 flex items-center text-xs text-gray-500">
            <span class="material-icons-round text-xs mr-1">check_circle</span>
            <span th:text="${definitionSize + ' active • 0 inactive'}" >18 active • 0 inactive</span>
        </div>
    </div>

    <!-- Assigned KPIs -->
    <div class="stat-card bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 md:p-6">
        <div class="flex items-center justify-between mb-4">
            <div class="p-3 bg-green-100 dark:bg-green-900/30 rounded-lg">
                <span class="material-icons-round text-green-600 dark:text-green-400">assignment_turned_in</span>
            </div>
            <span class="badge badge-info">Tracking</span>
        </div>
        <h3 th:text="${totalAssignments}" class="text-2xl font-bold mb-1" >186</h3>
        <p class="text-gray-600 dark:text-gray-400 text-sm">Active Assignments</p>
        <div class="mt-3">
            <div class="flex justify-between text-xs mb-1">
                <span class="text-gray-500">Individual</span>
                <span th:text="${assignmentsByEmployee}"  class="font-medium" >142</span>
            </div>
            <div class="flex justify-between text-xs">
                <span class="text-gray-500">Step-based</span>
                <span th:text="${assignmentsByJobStep}"  class="font-medium">44</span>
            </div>
        </div>
    </div>

    <!-- Avg Performance Score -->
    <div class="stat-card bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 md:p-6">
        <div class="flex items-center justify-between mb-4">
            <div class="p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg">
                <span class="material-icons-round text-purple-600 dark:text-purple-400">trending_up</span>
            </div>
            <span class="text-sm text-gray-500">This Month</span>
        </div>
        <h3 class="text-2xl font-bold mb-1">84.5</h3>
        <p class="text-gray-600 dark:text-gray-400 text-sm">Avg Performance Score</p>
        <div class="mt-3">
            <div class="progress-bar">
                <div class="progress-fill bg-purple-500" style="width:80%"></div>
            </div>
            <p class="text-xs text-gray-500 mt-1" >+2.3% from last month</p>
        </div>
    </div>

    <!-- Pending Reviews -->
    <div class="stat-card bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 md:p-6">
        <div class="flex items-center justify-between mb-4">
            <div class="p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg">
                <span class="material-icons-round text-orange-600 dark:text-orange-400">pending</span>
            </div>
            <span class="badge badge-warning">Attention</span>
        </div>
        <h3 class="text-2xl font-bold mb-1" >28</h3>
        <p class="text-gray-600 dark:text-gray-400 text-sm">Pending Reviews</p>
        <div class="mt-3">
            <div class="flex items-center text-xs text-gray-500">
                <span class="material-icons-round text-xs mr-1">schedule</span>
                <span>12 overdue, 16 due this week</span>
            </div>
        </div>
    </div>
</div>
</body>
</html>